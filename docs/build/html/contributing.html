<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Contributing &#8212; IPyNiiVue 2.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4848ba22" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css?v=424f8d56" />
    <script src="_static/documentation_options.js?v=f5cff4aa"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Installation" href="install.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IPyNiiVue 2.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Contributing</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¶</a></h1>
<p>We are glad you are here! Contributions to this package are always welcome.
Read on to learn more about the contribution process and package design.</p>
<p>ipyniivue uses <a class="reference external" href="https://pre-commit.com/">the reccomended</a> hatchling build-system, which is convenient to use via the <a class="reference external" href="https://hatch.pypa.io/latest/">hatch CLI</a>. We recommend installing hatch globally (e.g., via pipx) and running the various commands defined within pyproject.toml. hatch will take care of creating and synchronizing a virtual environment with all dependencies defined in pyproject.toml.</p>
<section id="install-pre-commit-hooks">
<h2>Install Pre-Commit hooks<a class="headerlink" href="#install-pre-commit-hooks" title="Link to this heading">¶</a></h2>
<p>We use <a class="reference external" href="https://packaging.python.org/en/latest/flow/#">pre-commit</a> to run code checks and clear
notebook outputs before committing changes. To install the pre-commit hooks,
run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pre-commit<span class="w"> </span>install
</pre></div>
</div>
<p>As a result, the hooks will automatically check and fix some issues before
pushing with git. If changes are made after committing with git, you will need
to commit again afterwords. Alternatively, you can just run the following
command beforehand:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nb-clean<span class="w"> </span>clean<span class="w"> </span>--remove-empty-cells
</pre></div>
</div>
</section>
<section id="command-cheatsheat">
<h2>Command Cheatsheat<a class="headerlink" href="#command-cheatsheat" title="Link to this heading">¶</a></h2>
<p>All commands are run from the root of the project, from a terminal:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>$ hatch run format</p></td>
<td><p>Format project with ruff format .
and apply linting with ruff –fix</p></td>
</tr>
<tr class="row-odd"><td><p>$ hatch run lint</p></td>
<td><p>Lint project with ruff check .</p></td>
</tr>
<tr class="row-even"><td><p>$ hatch run test</p></td>
<td><p>Run unit tests with pytest</p></td>
</tr>
</tbody>
</table>
<p>Alternatively, you can develop ipyniivue by manually creating a virtual environment and managing installation and dependencies with pip.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python3 -m venv .venv &amp;&amp; source .venv/bin/activate</span>
<span class="go">pip install -e &quot;.[dev]&quot;</span>
</pre></div>
</div>
</section>
<section id="making-changes-to-the-javascript-code">
<h2>Making Changes to the JavaScript Code<a class="headerlink" href="#making-changes-to-the-javascript-code" title="Link to this heading">¶</a></h2>
<p>This is an <a class="reference external" href="https://github.com/manzt/anywidget">anywidget</a> project, which means the code base is hybrid Python and JavaScript. The JavaScript part is developed under js/ and uses <a class="reference external" href="https://esbuild.github.io">esbuild</a> to bundle the code. Any time you make changes to the JavaScript code, you need to rebuild the files under src/ipyniivue/static. This can be done in two ways:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>npm<span class="w"> </span>run<span class="w"> </span>build
</pre></div>
</div>
<p>which will build the JavaScript code once, or you can start a development server:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>npm<span class="w"> </span>run<span class="w"> </span>dev
</pre></div>
</div>
<p>which will start a development server that will automatically rebuild the code as you make changes. We recommend the latter approach, as it is more convenient.</p>
<p>Once you have the development server running, you can start the JupyterLab or VS Code to develop the widget. When finished, you can stop the development server with Ctrl+C.</p>
<p>NOTE: In order to have anywidget automatically apply changes as you work, make sure to export ANYWIDGET_HMR=1 environment variable. This can be set directly in a notebook with %env ANYWIDGET_HMR=1 in a cell.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Contributing</a><ul>
<li><a class="reference internal" href="#install-pre-commit-hooks">Install Pre-Commit hooks</a></li>
<li><a class="reference internal" href="#command-cheatsheat">Command Cheatsheat</a></li>
<li><a class="reference internal" href="#making-changes-to-the-javascript-code">Making Changes to the JavaScript Code</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="install.html"
                          title="previous chapter">Installation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contributing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IPyNiiVue 2.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Contributing</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Author Names.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>